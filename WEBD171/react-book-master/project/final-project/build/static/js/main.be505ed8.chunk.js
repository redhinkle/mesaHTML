(this["webpackJsonpfinal-project"]=this["webpackJsonpfinal-project"]||[]).push([[0],{218:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(50),s=a.n(r),l=(a(88),a(82)),c=a(10),i=a(11),u=a(13),p=a(12),m=(a(89),a(90),a(4)),d=function(e){var t=e.isAuthenticated,a=e.onLogout;return o.a.createElement("header",null,o.a.createElement("h1",null,'"Just One More Thing..."'),o.a.createElement("ul",{className:"App-header container"},o.a.createElement("li",{key:"home"},o.a.createElement(m.b,{to:"/"},"Home")),o.a.createElement("li",null,o.a.createElement(m.b,{to:"/episodes"},"Episodes")),t?o.a.createElement(o.a.Fragment,null,o.a.createElement("li",null,o.a.createElement(m.b,{to:"/new"},"New Post")),o.a.createElement("li",null,o.a.createElement("button",{className:"linkLike",onClick:function(e){e.preventDefault(),a()}},"Logout"))):o.a.createElement("li",null,o.a.createElement(m.b,{to:"/login"},"Login"))))},h=function(e){var t=e.posts,n=e.deletePost,r=e.isAuthenticated;return o.a.createElement("article",{className:"posts container"},o.a.createElement("img",{src:a(95),alt:"Colombo holding a cigar scratching his head"}),o.a.createElement("ul",null,t.length<1&&o.a.createElement("li",{key:"empty"},"No posts yet!"),t.map((function(e){return o.a.createElement("li",{key:e.id},o.a.createElement("h2",null,o.a.createElement(m.b,{to:"/post/".concat(e.slug)},e.title)),r&&o.a.createElement("p",null,o.a.createElement(m.b,{to:"/edit/".concat(e.slug)},"Edit")," | ",o.a.createElement("button",{className:"linkLike",onClick:function(t){t.preventDefault(),n(e)}},"Delete")))}))))},f=a(79),E=function(e){var t=e.post,a=new f.QuillDeltaToHtmlConverter(t.content.ops,{}).convert();return o.a.createElement("article",{className:"post container"},o.a.createElement("h1",null,t.title),o.a.createElement("div",{className:"content",dangerouslySetInnerHTML:{__html:a}}))},g=function(){return o.a.createElement("article",{className:"not-found container"},o.a.createElement("h1",null,"404!"),o.a.createElement("p",null,"Content not found. ",o.a.createElement(m.b,{to:"/"},"Retrun to home")))},b=a(24),v=a(2),y=a(80),w=a.n(y),k=(a(208),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={post:{key:e.props.post.key,slug:e.props.post.slug,title:e.props.post.title,content:e.props.post.content},saved:!1},e.handlePostForm=function(t){t.preventDefault(),e.state.post.title?(e.props.updatePost?e.props.updatePost(e.state.post):e.props.addNewPost(e.state.post),e.setState({saved:!0})):alert("Title required")},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t){e.post.key!==this.props.post.key&&this.setState({post:{key:this.props.post.key,slug:this.props.post.slug,title:this.props.post.title,content:this.props.post.content}})}},{key:"render",value:function(){var e=this;return!0===this.state.saved?o.a.createElement(v.a,{to:"/"}):o.a.createElement("form",{className:"container",onSubmit:this.handlePostForm},o.a.createElement("h1",null,"Add a New Post"),o.a.createElement("p",null,o.a.createElement("label",{htmlFor:"form-title"},"Title:"),o.a.createElement("br",null),o.a.createElement("input",{defaultValue:this.props.title,id:"form-title",value:this.state.post.title,onChange:function(t){return e.setState({post:Object(b.a)(Object(b.a)({},e.state.post),{},{title:t.target.value})})}})),o.a.createElement("p",null,o.a.createElement("label",{htmlFor:"form-content"},"Content:")),o.a.createElement(w.a,{defaultValue:this.state.post.content,onChange:function(t,a,n,o){e.setState({post:Object(b.a)(Object(b.a)({},e.state.post),{},{content:o.getContents()})})}}),o.a.createElement("p",null,o.a.createElement("button",{type:"submit"},"Save")))}}]),a}(n.Component)),S=function(e){var t=e.type;return o.a.createElement("div",{className:"App-message ".concat(t)},o.a.createElement("p",{className:"container"},o.a.createElement("strong",null,{saved:"Post has been saved!",updated:"Post has been updated!",deleted:"Post has been deleted."}[t])))},j=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={email:"",password:""},e.handleLogin=function(t){t.preventDefault(),e.props.onLogin(e.state.email,e.state.password)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("form",{className:"container",name:"login",onSubmit:this.handleLogin},o.a.createElement("p",null,o.a.createElement("label",{htmlFor:"email"},"Email:"),o.a.createElement("input",{type:"email",onChange:function(t){return e.setState({email:t.target.value})}})),o.a.createElement("p",null,o.a.createElement("label",{htmlFor:"password"},"Password:"),o.a.createElement("input",{type:"password",onChange:function(t){return e.setState({password:t.target.value})}})),o.a.createElement("p",null,o.a.createElement("button",{type:"submit",disabled:!this.state.email&&!this.state.password},"Login")))}}]),a}(n.Component),A="https://www.googleapis.com/youtube/v3/search?key=".concat("AIzaSyCP_mWkFk_r9jgITDf2j8dVdO9A5RkHC9E","&channelId=").concat("UCzXwq43cFscWT4ZX9QbWwZw","&part=snippet,id&order=date&maxResults=").concat(10),N=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={videos:[],titles:[],desc:[]},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch(A).then((function(e){return e.json()})).then((function(t){var a=t.items.map((function(e){return"https://www.youtube.com/embed/"+e.id.videoId}));e.setState({videos:a});var n=t.items.map((function(e){return e.snippet.title}));e.setState({titles:n});var o=t.items.map((function(e){return e.snippet.description}));e.setState({desc:o})})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){var e=this;return o.a.createElement("main",{class:"container"},o.a.createElement("h2",null,"Episodes"),o.a.createElement("section",{style:O},this.state.videos.map((function(t,a){return o.a.createElement("div",{className:"episodeDiv",style:P,key:a},console.log(e.state.titles[a]),o.a.createElement("h3",null,e.state.titles[a]),o.a.createElement("iframe",{width:"560",height:"315",src:t,frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),o.a.createElement("p",null,e.state.desc[a]))}))))}}]),a}(o.a.Component),O={backgroundColor:"rgba(236, 236, 233, 1)",marginTop:"2rem"},P={padding:"0",margin:"0 auto"},C=N,L=function(e,t){return o.a.createElement("footer",null,o.a.createElement("p",{style:{margin:"0 auto",textAlign:"center"}},"2020 Jared Hinkle"),o.a.createElement("ul",{className:"App-header container"},o.a.createElement("li",{key:"home"},o.a.createElement(m.b,{to:"/"},"Home")),o.a.createElement("li",null,o.a.createElement(m.b,{to:"/episodes"},"Episodes"))))},T=a(53);a(212),a(214);T.initializeApp({apiKey:"AIzaSyCDWGB1fXcA2kZNszNdTB_S2ojXLJSwtKg",authDomain:"react-app-e601c.firebaseapp.com",databaseURL:"https://react-app-e601c.firebaseio.com",projectId:"react-app-e601c",storageBucket:"react-app-e601c.appspot.com",messagingSenderId:"795414432503",appId:"1:795414432503:web:79070a5bd71f139c36a1f2"});var D=T,F=a(81),I=a.n(F),x=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={isAuthenticated:!1,posts:[],message:null},e.onLogin=function(t,a){D.auth().signInWithEmailAndPassword(t,a).then((function(t){e.setState({isAuthenticated:!0})})).catch((function(e){return console.error(e)}))},e.onLogout=function(){D.auth().signOut().then((function(){e.setState({isAuthenticated:!1})})).catch((function(e){return console.error(e)}))},e.getNewSlugFromTitle=function(e){return encodeURIComponent(e.toLowerCase().split(" ").join("-"))},e.addNewPost=function(t){var a=D.database().ref("posts");t.slug=e.getNewSlugFromTitle(t.title),delete t.key,a.push(t),e.setState({message:"saved"}),setTimeout((function(){e.setState({message:null})}),1600)},e.updatePost=function(t){t.slug=e.getNewSlugFromTitle(t.title);var a=e.state.posts.findIndex((function(e){return e.id===t.id})),n=e.state.posts.slice(0,a).concat(e.state.posts.slice(a+1)),o=[].concat(Object(l.a)(n),[t]).sort((function(e,t){return e.id-t.id}));e.setState({posts:o,message:"updated"}),setTimeout((function(){e.setState({message:null})}),1600)},e.deletePost=function(t){if(window.confirm("Delete this post?")){var a=e.state.posts.filter((function(e){return e.id!==t.id}));e.setState({posts:a,message:"deleted"}),setTimeout((function(){e.setState({message:null})}),1600)}},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement(m.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(I.a,{parent:this}),o.a.createElement(d,{isAuthenticated:this.state.isAuthenticated,onLogout:this.onLogout}),this.state.message&&o.a.createElement(S,{type:this.state.message}),o.a.createElement(v.d,null,o.a.createElement(v.b,{exact:!0,path:"/",render:function(){return o.a.createElement(h,{isAuthenticated:e.state.isAuthenticated,posts:e.state.posts,deletePost:e.deletePost})}}),o.a.createElement(v.b,{exact:!0,path:"/episodes",render:function(){return o.a.createElement(C,null)}}),o.a.createElement(v.b,{path:"/post/:postSlug",render:function(t){var a=e.state.posts.find((function(e){return e.slug===t.match.params.postSlug}));return a?o.a.createElement(E,{post:a}):o.a.createElement(g,null)}}),o.a.createElement(v.b,{exact:!0,path:"/login",render:function(){return e.state.isAuthenticated?o.a.createElement(v.a,{to:"/"}):o.a.createElement(j,{onLogin:e.onLogin})}}),o.a.createElement(v.b,{exact:!0,path:"/new",render:function(){return e.state.isAuthenticated?o.a.createElement(k,{addNewPost:e.addNewPost,post:{key:null,slug:"",title:"",content:""}}):o.a.createElement(v.a,{to:"/login"})}}),o.a.createElement(v.b,{path:"/edit/:postSlug",render:function(t){var a=e.state.posts.find((function(e){return e.slug===t.match.params.postSlug}));return a&&e.state.isAuthenticated?o.a.createElement(k,{updatePost:e.updatePost,post:a}):a&&!e.state.isAuthenticated?o.a.createElement(v.a,{to:"/login"}):o.a.createElement(v.a,{to:"/"})}}),o.a.createElement(v.b,{component:g}))),o.a.createElement(L,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},83:function(e,t,a){e.exports=a(218)},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},95:function(e,t,a){e.exports=a.p+"static/media/colombo.1321a2d8.jpg"}},[[83,1,2]]]);
//# sourceMappingURL=main.be505ed8.chunk.js.map